{% extends "base.html" %}

{% block content %}
<h1 style="text-align:center; margin-bottom:30px;">Мои заказы</h1>

<div style="text-align:right; margin-bottom:20px;">
    <a href="{% url 'basket:order_add' %}" class="btn btn-add">Добавить заказ</a>
</div>

<div class="books-grid">
  {% for order in orders %}
  <div class="book-card">
      <h2>{{ order.book.title }}</h2>
      <p>Покупатель: {{ order.customer_name }}</p>
      <p>Кол-во: {{ order.quantity }}</p>
      <p>Статус: {{ order.get_status_display }}</p>
      <p>Дата: {{ order.created_at|date:"Y-m-d H:i" }}</p>

      <a href="{% url 'basket:order_edit' order.pk %}" class="btn btn-edit">Редактировать</a>
      <a href="{% url 'basket:order_delete' order.pk %}" class="btn btn-delete">Удалить</a>
  </div>
  {% empty %}
    <p style="text-align:center; color:#bbb;">Заказов нет</p>
  {% endfor %}
</div>

{% if is_paginated %}
<div style="text-align:center; margin-top:20px;">
    {% if page_obj.has_previous %}<a href="?page={{ page_obj.previous_page_number }}" class="btn btn-orders">Предыдущая</a>{% endif %}
    <span style="margin:0 10px;">Стр. {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}</span>
    {% if page_obj.has_next %}<a href="?page={{ page_obj.next_page_number }}" class="btn btn-orders">Следующая</a>{% endif %}
</div>
{% endif %}
{% endblock %}