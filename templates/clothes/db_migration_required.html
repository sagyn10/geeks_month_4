<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>Магазин недоступен</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        body { background:#121212; color:#f0f0f0; font-family: sans-serif; }
        .container { max-width:800px; margin:80px auto; padding:20px; background:#1e1e1e; border-radius:8px; }
        pre { background:#0f0f0f; padding:12px; border-radius:6px; overflow:auto; }
        .cmd { background:#0b0b0b; padding:10px; border-radius:6px; display:block; margin:8px 0; }
        a.button { display:inline-block; padding:8px 12px; background:#1ed760; color:#000; border-radius:6px; text-decoration:none; font-weight:bold }
    </style>
</head>
<body>
<div class="container">
    <h1>Магазин временно недоступен</h1>
    <p>Сайт обнаружил проблему с базой данных — вероятно, не применены миграции после изменений модели (например, добавлено поле фото товара) или отсутствует библиотека Pillow.</p>
    <p>Чтобы исправить, выполните эти команды в корне проекта (в вашем виртуальном окружении):</p>
    <pre class="cmd">source venv/bin/activate
pip install pillow
python manage.py makemigrations clothes
python manage.py migrate</pre>
    <p>Если вы используете другую виртуальную среду, замените <code>venv/bin/activate</code> на путь к вашей активации.</p>
    <p>Чтобы добавить поддержку капчи (опционально):</p>
    <pre class="cmd">pip install django-simple-captcha
python manage.py migrate</pre>
    <p>После выполнения миграций обновите страницу магазина. Техническая информация (ошибка):</p>
    <pre>{{ error }}</pre>
    <p><a href="/" class="button">Вернуться на главную</a></p>
</div>
</body>
</html>